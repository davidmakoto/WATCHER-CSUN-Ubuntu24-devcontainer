// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/ubuntu
{
        "name": "Ubuntu",
        // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile

        "image": "mcr.microsoft.com/devcontainers/base:ubuntu-24.04"

        // Features to add to the dev container. More info: https://containers.dev/features.
        // "features": {},

        // Use 'forwardPorts' to make a list of ports inside the container available locally.
        // "forwardPorts": [],

        // Use 'postCreateCommand' to run commands after the container is created.
        // "postCreateCommand": "uname -a",
  "postCreateCommand": [
    "bash", "-c", 
    "set -e && \
     echo 'Setting up locale...' && \
     sudo apt update && \
     sudo apt install -y locales && \
     sudo locale-gen en_US en_US.UTF-8 && \
     sudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 && \
     export LANG=en_US.UTF-8 && \
     \
     echo 'Enabling required repositories...' && \
     sudo apt install -y software-properties-common && \
     sudo add-apt-repository universe && \
     \
     echo 'Installing ROS 2 apt source...' && \
     sudo apt update && \
     sudo apt install -y curl && \
     export ROS_APT_SOURCE_VERSION=$(curl -s https://api.github.com/repos/ros-infrastructure/ros-apt-source/releases/latest | grep -F \"tag_name\" | awk -F'\"' '{print $4}') && \
     curl -L -o /tmp/ros2-apt-source.deb \"https://github.com/ros-infrastructure/ros-apt-source/releases/download/${ROS_APT_SOURCE_VERSION}/ros2-apt-source_${ROS_APT_SOURCE_VERSION}.$(. /etc/os-release && echo $VERSION_CODENAME)_all.deb\" && \
     sudo dpkg -i /tmp/ros2-apt-source.deb && \
     \
     echo 'Installing ROS 2 Jazzy...' && \
     sudo apt update && \
     sudo apt upgrade -y && \
     sudo apt install -y ros-jazzy-desktop && \
     \
     echo 'Installing development tools...' && \
     sudo apt install -y ros-dev-tools && \
     \
     echo 'Setting up ROS 2 environment...' && \
     echo 'source /opt/ros/jazzy/setup.bash' >> ~/.bashrc && \
     \
     echo 'ROS 2 Jazzy installation complete!'"
  ],
        // Configure tool-specific properties.
        // "customizations": {},

        // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
        // "remoteUser": "root"
}









